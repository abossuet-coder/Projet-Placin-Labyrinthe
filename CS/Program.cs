using System;

class Program
{
    static char[,] laby = new char[30,30]
    {
        // (copie ici le labyrinthe 30x30 avec 'â–ˆ', ' ', 'S')
        // je simplifie lâ€™exemple, mais tu peux rÃ©utiliser ton labyrinthe existant
          { 'â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ',' ',' ',' ','â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ','â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ',' ',' ','â–ˆ',' ','â–ˆ',' ','â–ˆ'}, // Attention: Le '#' Ã©tait prÃ©sent ici dans ton code, je l'ai laissÃ©.
        { 'â–ˆ',' ',' ','â–ˆ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ','â–ˆ',' ','â–ˆ',' ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ'},
        { 'â–ˆ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ','â–ˆ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ',' ',' ','â–ˆ',' ',' ',' ','â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ',' ','â–ˆ'},
        { 'â–ˆ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','â–ˆ'},
        { 'â–ˆ',' ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','S'},
        { 'â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ','â–ˆ'}
    };

    static int playerX = 1;
    static int playerY = 1;

    const int viewSize = 5; // 5 cases autour â†’ 11x11 total

    static void Main()
    {
        Console.CursorVisible = false;

        while (true)
        {
            Draw();

            ConsoleKey key = Console.ReadKey(true).Key;
            int nextX = playerX;
            int nextY = playerY;

            switch (key)
            {
                case ConsoleKey.UpArrow: nextY--; break;
                case ConsoleKey.DownArrow: nextY++; break;
                case ConsoleKey.LeftArrow: nextX--; break;
                case ConsoleKey.RightArrow: nextX++; break;
            }

            if (laby[nextY, nextX] != 'â–ˆ')
            {
                playerX = nextX;
                playerY = nextY;

                if (laby[playerY, playerX] == 'S')
                {
                    Console.Clear();
                    Draw();
                    Console.WriteLine("\nðŸŽ‰ BRAVO ! Tu as trouvÃ© la sortie !");
                    break;
                }
            }

            Console.SetCursorPosition(0, 0);
        }
    }

    static void Draw()
    {
        for (int y = playerY - viewSize; y <= playerY + viewSize; y++)
        {
            for (int x = playerX - viewSize; x <= playerX + viewSize; x++)
            {
                if (y < 0 || y >= laby.GetLength(0) || x < 0 || x >= laby.GetLength(1))
                {
                    Console.Write("  "); // vide si hors limites
                }
                else
                {
                    string c = (x == playerX && y == playerY) ? "PP" : $"{laby[y, x]}{laby[y, x]}";
                    Console.Write(c);
                }
            }
            Console.WriteLine();
        }
    }
}
